jobs:
  include:

    - stage: Unit Testing
      language: generic
      os: linux
      env: All unit tests
      cache:
        directories:
          - $HOME/.pub-cache

    - &integration-test-staging
      stage: Integration Testing
      sudo: true
      dist: trusty
      language: generic
      os: linux
      env: sample
      # Run integration tests on android
      before_install:
        - echo "sample before_install"
      install: echo "sample install"
      script: echo "sample Done"
        # travis_retry ./scripts/ci.sh ./example/bloc_flutter
      cache:
        directories:
          - $HOME/.pub-cache
          - $HOME/.gradle

    - <<: *integration-test-staging
      os: linux
      env: USE_<<*
      script: echo "built_redux_android Done"

      os: linux
      env: normal
      script: echo "built_redux_android Done"

    - stage: Ready to deploy
      os: osx
      language: generic
      env: not implemented ðŸ¤“
      script: echo "Deploying to store ..."

